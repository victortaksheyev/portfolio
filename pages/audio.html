<!DOCTYPE html>
<html>
    <head>
         <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css?family=Share+Tech" rel="stylesheet">
       
              
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Audio</title>
         <link rel="stylesheet" type="text/css" href="../css/style.css">
      

    </head>

    <body>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        <div class="container-fluid" style="max-width: 900px">
             <nav class="navbar navbar-expand-lg navbar-light">
                <a href="../index.html"><h1 class="navbar-brand my_custom  sbold">Victor Taksheyev</h1></a>
              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                  <li class="nav-item active">
                    <a class="nav-link" href="../index.html">Projects <span class="sr-only">(current)</span></a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="about.html">About</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../imgs/extras/victorResume.pdf">Resume</a>
                  </li>
                </ul>
              </div>
            </nav>
            <div class="jumbotron" style="background-color: #464866">
                <h1 class="display-4 bold inline" style="color:white;">2d-3d Audio Converter</h1><a href="https://github.com/victortaksheyev/3D_AudioConveter/blob/master/audio_converter.py"><button class="btn btn-outline-warning siteLink">View Code</button></a>
                <p class="lead" style="color: #e5eefc">A python application that takes a regular (2d) audio file (in mp3, wav), manipulates its channels, and exports a 3d sounding file.</p>
                <hr class="my-4" style="background-color:#e5eefc">
                <p style="color: #e5eefc">Python + Pydub, Pysfx libraries | <span style="color:orange">*Songs below belong to Drake</span></p>
            </div>
                
            <h1>The Idea</h1>
            <div class="row pb-3 frame">
                    <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 frame" style="display: block; margin:auto;">
                        <div class="embed-responsive embed-responsive-16by9">
                            <iframe  width="560" height="315" src="https://www.youtube.com/embed/9gBtUdaUAKY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                    </div>
                
                <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8" style="display: block; margin:auto;">
                    <p>I have always been a fan of music and recently went to my first concert where I got to experience it in a completely new way. The powerful bass,  echos and reverbs coming from every direction, and  exciting sound effects blew my mind. I had concert syndrome, but no money (and a curfue) so I became determined to recreate the concert experience using code.</p>
                </div>
            </div>

            
            <h1>Development</h1>
            <h4> 1. Figuring out how to manipulate audio</h4>
            <p> Initially, I attemted to open up mp3/wav datafiles. With mp3's compression, that was a nightmare. Wav files are uncompressed, but reading their data was very difficult. The next plan was to create a plug-in that could be applied to audio files in audio manipulation softwares such as Audacity. We decided not to pursue this becasue of the limited documentation and instead found python and the pydub library.</p>
            <h4> 2. Creating the proper effect</h4>
            
            <p>To create a concert experience, it had to seem like the audio was coming from all directions. Headphones only provide 2 directions, so this had to be virtually done by mainpulating the gain of left and right channels. </p>
            <div>
            <div class="row pb-3 frame">
                <div class="col-xs-12 col-sm-12 col-md-8 col-lg-6" style="display: block; margin:auto;">
                    <h5>Left Ear</h5>
                    <table class="table">
                      <thead>
                        <tr>
                          <th scope="col">n (3s int)</th>
                          <th scope="col">Gain(applied)</th>
                          <th scope="col">Gain(total)</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>0</td>
                            <td>0 (initial)</td>
                          <td>3</td>
                        </tr>
                        <tr>
                          <td>1</td>
                            <td>-3</td>
                          <td>0</td>
                        
                        </tr>
                        <tr>
                          <td>2</td>
                          <td>-3</td>
                          <td>-3</td>
                        </tr>
                        <tr>
                          <td>3</td>
                          <td>-3</td>
                          <td>-6</td>
                        </tr>
                        <tr>
                          <td>3</td>
                          <td>0 (switch)</td>
                          <td>-6</td>
                        </tr>
                          <tr>
                          <td>4</td>
                          <td>3</td>
                          <td>-3</td>
                        </tr>
                           <tr>
                          <td>5</td>
                          <td>3</td>
                          <td>0</td>
                        </tr>
                           <tr>
                          <td>6</td>
                          <td>3</td>
                          <td>3</td>
                        </tr>
                           <tr>
                          <td>6</td>
                          <td>0 (switch)</td>
                          <td>3</td>
                        </tr>
                           <tr>
                          <td>length-1</td>
                          <td>...</td>
                          <td>...</td>
                        </tr>
                      </tbody>
                    </table>
                    <p> The right ear table is inverse;  it starts at -3 and at n=3, switches at +6 total gain</p>
                </div>
            </div>
                
                
                <div class="row pb-3 frame">
                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6" style="background-color: white">
                    <audio controls>
                        <source src="../imgs/audio/drake.wav" type="audio/wav">
                        Your browser does not support the audio element.
                    </audio>
                    <p><span style="color: #d67b04">*</span>Original snippet</p>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6" style="background-color: white">
                    <audio controls>
                        <source src="../imgs/audio/drakeSong3d.wav" type="audio/wav">
                        Your browser does not support the audio element.
                    </audio>
                    <p>Snippet with code applied</p>
                    </div>
                </div>
                
                <div class="row pb-3 frame">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="display: block; margin:auto;">
                        <img class="img-fluid myImage" src="../imgs/audio/2dWF.png">
                        <p> <span style="color: #d67b04">*</span>Original waveform of song</p>
                    </div>
                </div>
                
                <div class="row pb-3 frame" style="display: block; margin:auto;">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <img class="img-fluid myImage" src="../imgs/audio/3dWF.png">
                        <p> Same waveform with code applied</p>
                    </div>
                </div>
                
                 <div class="row pb-3 frame">
                    <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8" style="display: block; margin: auto;">
                        <p>The code fades the left and right channels inverse of each other, creating a soundform resembling a sinusoidal graph</p>
                    </div>
                </div>
            
                <h4> 3. Adding effects</h4>
                <p>Using Pysfx python library, effects and filters like reverb, delay, and lowpass were added to achieve the concert sound experience.</p>
                
                 <div class="row pb-3 frame">
                    <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8" style="display: block; margin: auto;">
                        <audio controls>
                            <source src="../imgs/audio/drakeWEffects2.wav" type="audio/wav">
                            Your browser does not support the audio element.
                        </audio>
                        <p>Highpass and reverb applied in python</p>
                    </div>
                </div>
                
                <h4> 4. Optimization</h4>
                 <p>The process of applying the effects was initially performed recursively; however, with large files, that was CPU-demanding. The algorithm was switched to be performed interatively which noticeably reduced CPU demand and the time it took to apply the conversion and filter algorithm. </p>
            
        
            
             <div class="row pb-3 frame" style="background-color: #464866">
                    <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8" style="display: table; margin: auto;">
                        <p style="margin-top:5%;"><span style="color: orange">*Another reminder that all songs above belong to Drake</span></p>
                    </div>
            </div>
            
        </div>
    </body>
</html>